#include <stdio.h>
#include <string.h>

struct Directory {
    char fname[20];
} dir[10];

int main() {
    int n = 0, i;
    char name[20];
    int choice;

    while (1) {
        printf("\n1. Create File\n2. Delete File\n3. Search File\n4. Display Files\n5. Exit\n");
        printf("Enter your choice: ");
        scanf("%d", &choice);

        switch (choice) {
        case 1: // create file
            printf("Enter file name: ");
            scanf("%s", name);
            for (i = 0; i < n; i++) {
                if (strcmp(dir[i].fname, name) == 0) {
                    printf("File already exists!\n");
                    break;
                }
            }
            if (i == n) {
                strcpy(dir[n].fname, name);
                n++;
                printf("File created.\n");
            }
            break;

        case 2: // delete file
            printf("Enter file name to delete: ");
            scanf("%s", name);
            for (i = 0; i < n; i++) {
                if (strcmp(dir[i].fname, name) == 0) {
                    printf("File deleted.\n");
                    strcpy(dir[i].fname, dir[n-1].fname);
                    n--;
                    break;
                }
            }
            if (i == n) printf("File not found.\n");
            break;

        case 3: // search file
            printf("Enter file name to search: ");
            scanf("%s", name);
            for (i = 0; i < n; i++) {
                if (strcmp(dir[i].fname, name) == 0) {
                    printf("File found.\n");
                    break;
                }
            }
            if (i == n) printf("File not found.\n");
            break;

        case 4: // display files
            printf("Files in Directory:\n");
            for (i = 0; i < n; i++) {
                printf("%s\n", dir[i].fname);
            }
            break;

        case 5:
            return 0;

        default:
            printf("Invalid choice!\n");
        }
    }
}
